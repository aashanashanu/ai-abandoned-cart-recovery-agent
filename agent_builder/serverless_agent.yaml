name: Abandoned Cart Recovery Agent
description: Diagnoses abandonment causes and triggers best recovery action using Elasticsearch signals and learning.
model: gpt-4o-mini
temperature: 0.1
max_tokens: 1024
tool_choice: auto

guardrails:
  - name: no_discounts_for_high_fraud
    description: Block discount/free_shipping for high fraud risk customers
  - name: prefer_retry_for_payment_failure
    description: Prefer payment_retry for retryable payment failures
  - name: perf_latency_no_discount
    description: Use reminder for performance latency issues

workflow:
  steps:
    - name: recover_cart
      description: Complete abandoned cart recovery from detection to recording
      type: workflow
      uses: elastic-workflows/serverless_workflow.yml
